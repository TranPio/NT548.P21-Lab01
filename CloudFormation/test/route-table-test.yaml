AWSTemplateFormatVersion: '2010-09-09'
Description: Test Route Table - Tạo route table gắn vào subnet (logic test)

Parameters:
  VpcId:
    Type: String
  SubnetId:
    Type: String
  GatewayId:
    Type: String  # IGW hoặc NAT Gateway

Resources:
  TestRouteTable:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId: !Ref VpcId
      Tags:
        - Key: Name
          Value: Test-RouteTable

  TestRoute:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId: !Ref TestRouteTable
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId: !Ref GatewayId

  SubnetAssociation:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      SubnetId: !Ref SubnetId
      RouteTableId: !Ref TestRouteTable
